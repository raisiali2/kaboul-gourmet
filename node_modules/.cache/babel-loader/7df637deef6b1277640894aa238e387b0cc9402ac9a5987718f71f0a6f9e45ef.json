{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\a923304\\\\Downloads\\\\kaboul Gourmet\\\\src\\\\components\\\\sections\\\\OurStory.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport { motion, useReducedMotion } from 'framer-motion';\nimport AnimatedSection from '../common/AnimatedSection';\nimport AnimatedElement from '../common/AnimatedElement';\nimport './OurStory.css';\n\n/**\n * Optimized image preloading function\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst preloadImage = (src, options = {}) => {\n  const {\n    priority = 'low',\n    onLoad = () => {}\n  } = options;\n  return new Promise((resolve, reject) => {\n    const img = new Image();\n    img.onload = () => {\n      onLoad(src);\n      resolve(img);\n    };\n    img.onerror = reject;\n    img.src = src;\n    img.fetchPriority = priority;\n    if (priority === 'high') {\n      img.importance = 'high';\n    }\n  });\n};\nconst OurStory = () => {\n  _s();\n  const prefersReducedMotion = useReducedMotion();\n  const [isMobile, setIsMobile] = useState(false);\n  const [imagesLoaded, setImagesLoaded] = useState({});\n  const sectionRef = useRef(null);\n  const [isInView, setIsInView] = useState(false);\n\n  // Image URLs with placeholder and full versions\n  const images = {\n    chef: {\n      small: \"/images/Kabulie.jpeg\",\n      // Small optimized version\n      full: \"/images/_MG_7046.jpg\" // Full quality version\n    },\n    chefBottom: {\n      small: \"/images/Photo deliveroo.jpg\",\n      // Small optimized version\n      full: \"/images/_MG_7041.jpg\" // Full quality version\n    }\n  };\n\n  // Check for mobile devices\n  useEffect(() => {\n    const checkDevice = () => {\n      setIsMobile(window.innerWidth <= 768);\n    };\n    checkDevice();\n    window.addEventListener('resize', checkDevice);\n    return () => {\n      window.removeEventListener('resize', checkDevice);\n    };\n  }, []);\n\n  // Set up intersection observer to determine when section is in view\n  useEffect(() => {\n    if (!sectionRef.current || typeof IntersectionObserver === 'undefined') {\n      return;\n    }\n    const observer = new IntersectionObserver(entries => {\n      if (entries[0].isIntersecting) {\n        setIsInView(true);\n\n        // Start preloading images as soon as section comes into view\n        if (Object.keys(imagesLoaded).length === 0) {\n          // Load small versions first\n          Promise.all([preloadImage(images.chef.small, {\n            priority: 'high',\n            onLoad: src => handleImageLoad('chef-small')\n          }), preloadImage(images.chefBottom.small, {\n            priority: 'medium',\n            onLoad: src => handleImageLoad('chef-bottom-small')\n          })]).then(() => {\n            // Then load full versions if not on mobile\n            if (!isMobile) {\n              Promise.all([preloadImage(images.chef.full, {\n                priority: 'medium',\n                onLoad: src => handleImageLoad('chef-full')\n              }), preloadImage(images.chefBottom.full, {\n                priority: 'low',\n                onLoad: src => handleImageLoad('chef-bottom-full')\n              })]).catch(err => console.error('Error loading full-res images:', err));\n            }\n          }).catch(err => console.error('Error loading placeholder images:', err));\n        }\n\n        // Unobserve once in view\n        observer.unobserve(sectionRef.current);\n      }\n    }, {\n      threshold: 0.1\n    });\n    observer.observe(sectionRef.current);\n    return () => {\n      if (sectionRef.current) {\n        observer.unobserve(sectionRef.current);\n      }\n    };\n  }, [isMobile, imagesLoaded]);\n\n  // Handle image loads\n  const handleImageLoad = imageId => {\n    setImagesLoaded(prev => ({\n      ...prev,\n      [imageId]: true\n    }));\n  };\n\n  // Get the appropriate image src based on loaded state\n  const getImageSrc = imageType => {\n    const isFullLoaded = imagesLoaded[`${imageType}-full`];\n    const isSmallLoaded = imagesLoaded[`${imageType}-small`];\n\n    // For mobile always use small version\n    if (isMobile) {\n      return isSmallLoaded ? images[imageType].small : null;\n    }\n\n    // For desktop, use full if loaded, otherwise small\n    return isFullLoaded ? images[imageType].full : isSmallLoaded ? images[imageType].small : null;\n  };\n\n  // Animation variants - optimized for performance\n  const fadeInUpVariants = {\n    hidden: {\n      opacity: 0,\n      y: isMobile ? 15 : 30\n    },\n    visible: {\n      opacity: 1,\n      y: 0,\n      transition: {\n        duration: isMobile ? 0.4 : 0.6,\n        ease: \"easeOut\"\n      }\n    }\n  };\n  const textContainerVariants = {\n    hidden: {\n      opacity: 0\n    },\n    visible: {\n      opacity: 1,\n      transition: {\n        staggerChildren: isMobile ? 0.1 : 0.15,\n        delayChildren: 0.1\n      }\n    }\n  };\n  const textItemVariants = {\n    hidden: {\n      opacity: 0,\n      y: isMobile ? 10 : 20\n    },\n    visible: {\n      opacity: 1,\n      y: 0,\n      transition: {\n        duration: isMobile ? 0.4 : 0.5,\n        ease: \"easeOut\"\n      }\n    }\n  };\n  const imageScaleVariants = {\n    hidden: {\n      opacity: 0,\n      scale: 0.95\n    },\n    visible: {\n      opacity: 1,\n      scale: 1,\n      transition: {\n        duration: 0.7,\n        ease: \"easeOut\"\n      }\n    }\n  };\n  const dividerVariants = {\n    hidden: {\n      width: 0,\n      opacity: 0\n    },\n    visible: {\n      width: \"100%\",\n      opacity: 1,\n      transition: {\n        duration: isMobile ? 0.6 : 0.8,\n        ease: \"easeOut\"\n      }\n    }\n  };\n\n  // Simplified animation if user prefers reduced motion\n  const accessibleVariants = {\n    hidden: {\n      opacity: 0\n    },\n    visible: {\n      opacity: 1,\n      transition: {\n        duration: 0.4\n      }\n    }\n  };\n\n  // Choose appropriate variants based on user preferences\n  const finalFadeInUpVariants = prefersReducedMotion ? accessibleVariants : fadeInUpVariants;\n  const finalTextItemVariants = prefersReducedMotion ? accessibleVariants : textItemVariants;\n  const finalImageVariants = prefersReducedMotion ? accessibleVariants : imageScaleVariants;\n\n  // Get srcSet based on loaded state\n  const getChefSrcSet = () => {\n    const baseSet = \"https://ik.imagekit.io/sbj8bzmjnl4/galvin/wp-content/uploads/2025/02/restaurant-michelin-star-french-city-london-galvin-la-chapelle-our-story-chef-2-430x645.jpg.webp 430w\";\n\n    // Only include larger images if they're loaded\n    if (imagesLoaded['chef-full']) {\n      return `${baseSet}, https://ik.imagekit.io/sbj8bzmjnl4/galvin/wp-content/uploads/2025/02/restaurant-michelin-star-french-city-london-galvin-la-chapelle-our-story-chef-2-640x960.jpg.webp 640w, https://ik.imagekit.io/sbj8bzmjnl4/galvin/wp-content/uploads/2025/02/restaurant-michelin-star-french-city-london-galvin-la-chapelle-our-story-chef-2-760x1140.jpg.webp 760w, https://ik.imagekit.io/sbj8bzmjnl4/galvin/wp-content/uploads/2025/02/restaurant-michelin-star-french-city-london-galvin-la-chapelle-our-story-chef-2-888x1333.jpg.webp 888w`;\n    }\n    return baseSet;\n  };\n  return /*#__PURE__*/_jsxDEV(AnimatedSection, {\n    id: \"michelin\",\n    className: \"pgwdblock-block-default-text-slider be-block-imgtext uk-section uk-padding-remove-vertical be-block-image-column-top\",\n    ref: sectionRef,\n    children: /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"be-block-wrapper uk-padding-large-vertical block-bg-black\",\n      style: {\n        backgroundImage: \"url(https://galvinrestaurants.com/wp-content/uploads/2023/09/french-best-michelin-restaurants-the-city-bishopsgate-london-galvin-gold-rotated-1.svg)\",\n        backgroundRepeat: \"no-repeat\",\n        backgroundSize: isMobile ? \"300px\" : \"500px\",\n        backgroundPosition: \"right top\"\n      },\n      initial: prefersReducedMotion ? {} : {\n        backgroundSize: \"0px\"\n      },\n      animate: prefersReducedMotion ? {} : {\n        backgroundSize: isMobile ? \"300px\" : \"500px\"\n      },\n      transition: {\n        duration: 1.2,\n        ease: \"easeOut\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"be-block-container uk-position-relative uk-container uk-container-xlarge\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"be-block-content-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"uk-grid-match uk-grid-large uk-flex uk-grid\",\n            \"data-uk-grid\": \"\",\n            children: [/*#__PURE__*/_jsxDEV(motion.div, {\n              className: \"uk-width-10-20@m be-block-image-column uk-flex uk-flex-middle uk-flex-first@m\",\n              variants: finalImageVariants,\n              initial: \"hidden\",\n              whileInView: \"visible\",\n              viewport: {\n                once: true,\n                amount: 0.3\n              },\n              style: {\n                backgroundColor: \"#f5f5f5\" // Placeholder color while loading\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"uk-height-1-1 uk-text-center be-transition-duration-15 uk-transform-origin-top-center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"uk-overflow-hidden uk-cover-container uk-height-1-1 be-section-block-image-height uk-transition-toggle\",\n                  tabIndex: \"0\",\n                  children: (imagesLoaded['chef-small'] || imagesLoaded['chef-full']) && /*#__PURE__*/_jsxDEV(motion.img, {\n                    width: \"888\",\n                    height: \"1333\",\n                    className: \"uk-transition-opaque be-transition-ease be-transition-duration-2\",\n                    src: getImageSrc('chef'),\n                    srcSet: getChefSrcSet(),\n                    sizes: \"(max-width: 360px) 95vw, (max-width: 640px) 95vw, (max-width: 960px) 95vw, (max-width: 1200px) 40vw, (max-width: 1600px) 40vw, 888px\",\n                    alt: \"Restaurant French Michelin Starred Galvin Private Dining Events\",\n                    loading: \"lazy\",\n                    whileHover: prefersReducedMotion ? {} : {\n                      scale: isMobile ? 1.02 : 1.05\n                    },\n                    transition: {\n                      duration: 0.4\n                    },\n                    style: {\n                      willChange: 'transform',\n                      opacity: imagesLoaded['chef-small'] ? 1 : 0,\n                      transition: 'opacity 0.3s ease',\n                      transform: 'translateZ(0)'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n              className: \"uk-width-10-20@m uk-flex-column uk-flex-last@m\",\n              variants: finalFadeInUpVariants,\n              initial: \"hidden\",\n              whileInView: \"visible\",\n              viewport: {\n                once: true,\n                amount: 0.2\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"block-bg-white\",\n                children: /*#__PURE__*/_jsxDEV(motion.div, {\n                  className: \"be-block-textbox\",\n                  variants: textContainerVariants,\n                  initial: \"hidden\",\n                  whileInView: \"visible\",\n                  viewport: {\n                    once: true,\n                    amount: 0.2\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(motion.div, {\n                    className: \"be-block-heading uk-h1\",\n                    variants: finalTextItemVariants,\n                    children: \"Our Story\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 298,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(motion.hr, {\n                    className: \"be-title-divider uk-margin-remove-top\",\n                    variants: dividerVariants\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 305,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(motion.h2, {\n                    className: \"uk-h3 be-block-subheading uk-visible@m\",\n                    variants: finalTextItemVariants,\n                    children: \"Galvin La Chapelle, a unique venue in the heart of the city of London, where old meets new.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 310,\n                    columnNumber: 21\n                  }, this), !isMobile && /*#__PURE__*/_jsxDEV(motion.h2, {\n                    className: \"uk-h4 be-block-subheading uk-hidden@m\",\n                    style: {\n                      visibility: \"hidden\"\n                    },\n                    variants: finalTextItemVariants,\n                    children: \"Galvin La Chapelle, a unique venue in the heart of the city of London, where old meets new.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n                    className: \"be-block-text uk-clearfix\",\n                    variants: textContainerVariants,\n                    children: [/*#__PURE__*/_jsxDEV(motion.p, {\n                      variants: finalTextItemVariants,\n                      children: \"Our Michelin Star venue offers modern French fine dining with a European influence. Our unique venue boasts beautiful high stone ceilings, with large arched windows, creating the perfect backdrop for all occasions.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 331,\n                      columnNumber: 23\n                    }, this), !isMobile && /*#__PURE__*/_jsxDEV(motion.p, {\n                      variants: finalTextItemVariants,\n                      children: \"Our grade 2 listed former school, takes pride of place amongst the modern buildings of Spitalfields and London City. Our glamourous venue has an effortless buzz that transports you to a world of fantastic food, fine wine and unmatched service.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 335,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(motion.p, {\n                      variants: finalTextItemVariants,\n                      children: \"Our kitchen ensures a seasonal and sustainable menu continues to be on offered to our guests using fresh and local produce. Our Executive Chef, Arturo Granato works closely with Head Chef, Gabriele Caucci to boast a menu with an emphasis on bold flavours, a balance of textures and a continued focus on all Galvin Restaurant's core values.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 339,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 327,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n                    className: \"be-block-buttonbox uk-flex-inline uk-flex-center uk-flex-wrap be-flex-gap uk-margin-top uk-animation-toggle\",\n                    variants: finalTextItemVariants,\n                    children: [/*#__PURE__*/_jsxDEV(AnimatedElement, {\n                      as: \"a\",\n                      title: \"Read more about the history of Galvin Restaurants in London and Essex by Award winning Michelin starred brothers Chris & Jeff British French Cuisine at its best.\",\n                      className: \"uk-button be-block-button uk-button-large\",\n                      href: \"https://galvinrestaurants.com/restaurants-london-michelin-starred-french-british-best-top-awards/\",\n                      target: \"_self\",\n                      \"data-count\": \"1\",\n                      \"data-rows\": \"2\",\n                      hoverEffect: \"scale\",\n                      children: \"Discover More\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 348,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(AnimatedElement, {\n                      as: \"a\",\n                      title: \"Subscribe to French restaurants London, Galvin.\",\n                      className: \"uk-button be-block-button uk-button-large\",\n                      href: \"https://galvinrestaurants.com/michelin-french-restaurant-city-london-galvin-la-chapelle/#restaurant\",\n                      target: \"_self\",\n                      \"data-count\": \"2\",\n                      \"data-rows\": \"2\",\n                      hoverEffect: \"scale\",\n                      children: \"Subscribe\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 360,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 344,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 17\n              }, this), (isInView || !isMobile) && /*#__PURE__*/_jsxDEV(motion.div, {\n                className: \"uk-width-full uk-text-center\",\n                variants: finalImageVariants,\n                initial: \"hidden\",\n                whileInView: \"visible\",\n                viewport: {\n                  once: true,\n                  amount: 0.2\n                },\n                style: {\n                  backgroundColor: \"#f5f5f5\" // Placeholder color while loading\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"be-block-img-under uk-position-relative uk-text-center be-transition-duration-15 uk-transform-origin-top-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"uk-overflow-hidden uk-background-cover uk-transition-toggle\",\n                    tabIndex: \"0\",\n                    children: (imagesLoaded['chef-bottom-small'] || imagesLoaded['chef-bottom-full']) && /*#__PURE__*/_jsxDEV(motion.img, {\n                      width: \"960\",\n                      height: \"640\",\n                      className: \"uk-transition-opaque be-transition-ease be-transition-duration-2\",\n                      src: getImageSrc('chefBottom'),\n                      srcSet: imagesLoaded['chef-bottom-full'] ? \"https://ik.imagekit.io/sbj8bzmjnl4/galvin/wp-content/uploads/2025/02/restaurant-michelin-star-french-city-london-galvin-la-chapelle-chef-gabriele2-430x287.jpg.webp 430w, https://ik.imagekit.io/sbj8bzmjnl4/galvin/wp-content/uploads/2025/02/restaurant-michelin-star-french-city-london-galvin-la-chapelle-chef-gabriele2-640x427.jpg.webp 640w, https://ik.imagekit.io/sbj8bzmjnl4/galvin/wp-content/uploads/2025/02/restaurant-michelin-star-french-city-london-galvin-la-chapelle-chef-gabriele2-760x507.jpg.webp 760w, https://ik.imagekit.io/sbj8bzmjnl4/galvin/wp-content/uploads/2025/02/restaurant-michelin-star-french-city-london-galvin-la-chapelle-chef-gabriele2-960x640.jpg.webp 960w\" : \"https://ik.imagekit.io/sbj8bzmjnl4/galvin/wp-content/uploads/2025/02/restaurant-michelin-star-french-city-london-galvin-la-chapelle-chef-gabriele2-430x287.jpg.webp 430w\",\n                      sizes: \"(max-width: 360px) 95vw, (max-width: 640px) 95vw, (max-width: 960px) 95vw, (max-width: 1200px) 40vw, (max-width: 1600px) 40vw, 960px\",\n                      alt: \"Restaurant Michelin starred French city of London Chefs\",\n                      loading: \"lazy\",\n                      whileHover: prefersReducedMotion ? {} : {\n                        scale: isMobile ? 1.02 : 1.03\n                      },\n                      transition: {\n                        duration: 0.4\n                      },\n                      style: {\n                        willChange: 'transform',\n                        opacity: imagesLoaded['chef-bottom-small'] ? 1 : 0,\n                        transition: 'opacity 0.3s ease',\n                        transform: 'translateZ(0)'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 391,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 224,\n    columnNumber: 5\n  }, this);\n};\n_s(OurStory, \"job8Z1IuMHOy9DJYWrdEZTrJr4c=\", false, function () {\n  return [useReducedMotion];\n});\n_c = OurStory;\nexport default OurStory;\nvar _c;\n$RefreshReg$(_c, \"OurStory\");","map":{"version":3,"names":["React","useEffect","useState","useRef","motion","useReducedMotion","AnimatedSection","AnimatedElement","jsxDEV","_jsxDEV","preloadImage","src","options","priority","onLoad","Promise","resolve","reject","img","Image","onload","onerror","fetchPriority","importance","OurStory","_s","prefersReducedMotion","isMobile","setIsMobile","imagesLoaded","setImagesLoaded","sectionRef","isInView","setIsInView","images","chef","small","full","chefBottom","checkDevice","window","innerWidth","addEventListener","removeEventListener","current","IntersectionObserver","observer","entries","isIntersecting","Object","keys","length","all","handleImageLoad","then","catch","err","console","error","unobserve","threshold","observe","imageId","prev","getImageSrc","imageType","isFullLoaded","isSmallLoaded","fadeInUpVariants","hidden","opacity","y","visible","transition","duration","ease","textContainerVariants","staggerChildren","delayChildren","textItemVariants","imageScaleVariants","scale","dividerVariants","width","accessibleVariants","finalFadeInUpVariants","finalTextItemVariants","finalImageVariants","getChefSrcSet","baseSet","id","className","ref","children","div","style","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","initial","animate","variants","whileInView","viewport","once","amount","backgroundColor","tabIndex","height","srcSet","sizes","alt","loading","whileHover","willChange","transform","fileName","_jsxFileName","lineNumber","columnNumber","hr","h2","visibility","p","as","title","href","target","hoverEffect","_c","$RefreshReg$"],"sources":["C:/Users/a923304/Downloads/kaboul Gourmet/src/components/sections/OurStory.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport { motion, useReducedMotion } from 'framer-motion';\nimport AnimatedSection from '../common/AnimatedSection';\nimport AnimatedElement from '../common/AnimatedElement';\nimport './OurStory.css';\n\n/**\n * Optimized image preloading function\n */\nconst preloadImage = (src, options = {}) => {\n  const { priority = 'low', onLoad = () => {} } = options;\n  \n  return new Promise((resolve, reject) => {\n    const img = new Image();\n    img.onload = () => {\n      onLoad(src);\n      resolve(img);\n    };\n    img.onerror = reject;\n    img.src = src;\n    img.fetchPriority = priority;\n    \n    if (priority === 'high') {\n      img.importance = 'high';\n    }\n  });\n};\n\nconst OurStory = () => {\n  const prefersReducedMotion = useReducedMotion();\n  const [isMobile, setIsMobile] = useState(false);\n  const [imagesLoaded, setImagesLoaded] = useState({});\n  const sectionRef = useRef(null);\n  const [isInView, setIsInView] = useState(false);\n  \n  // Image URLs with placeholder and full versions\n  const images = {\n    chef: {\n      small: \"/images/Kabulie.jpeg\", // Small optimized version\n      full: \"/images/_MG_7046.jpg\", // Full quality version\n    },\n    chefBottom: {\n      small: \"/images/Photo deliveroo.jpg\", // Small optimized version\n      full: \"/images/_MG_7041.jpg\", // Full quality version\n    }\n  };\n\n  // Check for mobile devices\n  useEffect(() => {\n    const checkDevice = () => {\n      setIsMobile(window.innerWidth <= 768);\n    };\n    \n    checkDevice();\n    window.addEventListener('resize', checkDevice);\n    \n    return () => {\n      window.removeEventListener('resize', checkDevice);\n    };\n  }, []);\n  \n  // Set up intersection observer to determine when section is in view\n  useEffect(() => {\n    if (!sectionRef.current || typeof IntersectionObserver === 'undefined') {\n      return;\n    }\n    \n    const observer = new IntersectionObserver(\n      (entries) => {\n        if (entries[0].isIntersecting) {\n          setIsInView(true);\n          \n          // Start preloading images as soon as section comes into view\n          if (Object.keys(imagesLoaded).length === 0) {\n            // Load small versions first\n            Promise.all([\n              preloadImage(images.chef.small, { \n                priority: 'high', \n                onLoad: (src) => handleImageLoad('chef-small')\n              }),\n              preloadImage(images.chefBottom.small, { \n                priority: 'medium',\n                onLoad: (src) => handleImageLoad('chef-bottom-small')\n              })\n            ]).then(() => {\n              // Then load full versions if not on mobile\n              if (!isMobile) {\n                Promise.all([\n                  preloadImage(images.chef.full, { \n                    priority: 'medium',\n                    onLoad: (src) => handleImageLoad('chef-full')\n                  }),\n                  preloadImage(images.chefBottom.full, { \n                    priority: 'low',\n                    onLoad: (src) => handleImageLoad('chef-bottom-full')\n                  })\n                ]).catch(err => console.error('Error loading full-res images:', err));\n              }\n            }).catch(err => console.error('Error loading placeholder images:', err));\n          }\n          \n          // Unobserve once in view\n          observer.unobserve(sectionRef.current);\n        }\n      },\n      { threshold: 0.1 }\n    );\n    \n    observer.observe(sectionRef.current);\n    \n    return () => {\n      if (sectionRef.current) {\n        observer.unobserve(sectionRef.current);\n      }\n    };\n  }, [isMobile, imagesLoaded]);\n\n  // Handle image loads\n  const handleImageLoad = (imageId) => {\n    setImagesLoaded(prev => ({\n      ...prev,\n      [imageId]: true\n    }));\n  };\n  \n  // Get the appropriate image src based on loaded state\n  const getImageSrc = (imageType) => {\n    const isFullLoaded = imagesLoaded[`${imageType}-full`];\n    const isSmallLoaded = imagesLoaded[`${imageType}-small`];\n    \n    // For mobile always use small version\n    if (isMobile) {\n      return isSmallLoaded ? images[imageType].small : null;\n    }\n    \n    // For desktop, use full if loaded, otherwise small\n    return isFullLoaded ? images[imageType].full : (isSmallLoaded ? images[imageType].small : null);\n  };\n\n  // Animation variants - optimized for performance\n  const fadeInUpVariants = {\n    hidden: { opacity: 0, y: isMobile ? 15 : 30 },\n    visible: {\n      opacity: 1,\n      y: 0,\n      transition: { \n        duration: isMobile ? 0.4 : 0.6, \n        ease: \"easeOut\" \n      }\n    }\n  };\n\n  const textContainerVariants = {\n    hidden: { opacity: 0 },\n    visible: {\n      opacity: 1,\n      transition: {\n        staggerChildren: isMobile ? 0.1 : 0.15,\n        delayChildren: 0.1\n      }\n    }\n  };\n\n  const textItemVariants = {\n    hidden: { opacity: 0, y: isMobile ? 10 : 20 },\n    visible: {\n      opacity: 1,\n      y: 0,\n      transition: { duration: isMobile ? 0.4 : 0.5, ease: \"easeOut\" }\n    }\n  };\n\n  const imageScaleVariants = {\n    hidden: { opacity: 0, scale: 0.95 },\n    visible: {\n      opacity: 1,\n      scale: 1,\n      transition: { \n        duration: 0.7, \n        ease: \"easeOut\" \n      }\n    }\n  };\n\n  const dividerVariants = {\n    hidden: { width: 0, opacity: 0 },\n    visible: {\n      width: \"100%\",\n      opacity: 1,\n      transition: { \n        duration: isMobile ? 0.6 : 0.8, \n        ease: \"easeOut\" \n      }\n    }\n  };\n\n  // Simplified animation if user prefers reduced motion\n  const accessibleVariants = {\n    hidden: { opacity: 0 },\n    visible: {\n      opacity: 1,\n      transition: { duration: 0.4 }\n    }\n  };\n\n  // Choose appropriate variants based on user preferences\n  const finalFadeInUpVariants = prefersReducedMotion ? accessibleVariants : fadeInUpVariants;\n  const finalTextItemVariants = prefersReducedMotion ? accessibleVariants : textItemVariants;\n  const finalImageVariants = prefersReducedMotion ? accessibleVariants : imageScaleVariants;\n\n  // Get srcSet based on loaded state\n  const getChefSrcSet = () => {\n    const baseSet = \"https://ik.imagekit.io/sbj8bzmjnl4/galvin/wp-content/uploads/2025/02/restaurant-michelin-star-french-city-london-galvin-la-chapelle-our-story-chef-2-430x645.jpg.webp 430w\";\n    \n    // Only include larger images if they're loaded\n    if (imagesLoaded['chef-full']) {\n      return `${baseSet}, https://ik.imagekit.io/sbj8bzmjnl4/galvin/wp-content/uploads/2025/02/restaurant-michelin-star-french-city-london-galvin-la-chapelle-our-story-chef-2-640x960.jpg.webp 640w, https://ik.imagekit.io/sbj8bzmjnl4/galvin/wp-content/uploads/2025/02/restaurant-michelin-star-french-city-london-galvin-la-chapelle-our-story-chef-2-760x1140.jpg.webp 760w, https://ik.imagekit.io/sbj8bzmjnl4/galvin/wp-content/uploads/2025/02/restaurant-michelin-star-french-city-london-galvin-la-chapelle-our-story-chef-2-888x1333.jpg.webp 888w`;\n    }\n    \n    return baseSet;\n  };\n\n  return (\n    <AnimatedSection \n      id=\"michelin\" \n      className=\"pgwdblock-block-default-text-slider be-block-imgtext uk-section uk-padding-remove-vertical be-block-image-column-top\"\n      ref={sectionRef}\n    >\n      <motion.div \n        className=\"be-block-wrapper uk-padding-large-vertical block-bg-black\" \n        style={{\n          backgroundImage: \"url(https://galvinrestaurants.com/wp-content/uploads/2023/09/french-best-michelin-restaurants-the-city-bishopsgate-london-galvin-gold-rotated-1.svg)\",\n          backgroundRepeat: \"no-repeat\",\n          backgroundSize: isMobile ? \"300px\" : \"500px\", \n          backgroundPosition: \"right top\"\n        }}\n        initial={prefersReducedMotion ? {} : { backgroundSize: \"0px\" }}\n        animate={prefersReducedMotion ? {} : { backgroundSize: isMobile ? \"300px\" : \"500px\" }}\n        transition={{ duration: 1.2, ease: \"easeOut\" }}\n      >\n        <div className=\"be-block-container uk-position-relative uk-container uk-container-xlarge\">\n          <div className=\"be-block-content-container\">\n            <div className=\"uk-grid-match uk-grid-large uk-flex uk-grid\" data-uk-grid=\"\">\n              {/* Chef image column */}\n              <motion.div \n                className=\"uk-width-10-20@m be-block-image-column uk-flex uk-flex-middle uk-flex-first@m\"\n                variants={finalImageVariants}\n                initial=\"hidden\"\n                whileInView=\"visible\"\n                viewport={{ once: true, amount: 0.3 }}\n                style={{\n                  backgroundColor: \"#f5f5f5\", // Placeholder color while loading\n                }}\n              >\n                <div className=\"uk-height-1-1 uk-text-center be-transition-duration-15 uk-transform-origin-top-center\">\n                  <div className=\"uk-overflow-hidden uk-cover-container uk-height-1-1 be-section-block-image-height uk-transition-toggle\" tabIndex=\"0\">\n                    {(imagesLoaded['chef-small'] || imagesLoaded['chef-full']) && (\n                      <motion.img \n                        width=\"888\" \n                        height=\"1333\" \n                        className=\"uk-transition-opaque be-transition-ease be-transition-duration-2\" \n                        src={getImageSrc('chef')}\n                        srcSet={getChefSrcSet()}\n                        sizes=\"(max-width: 360px) 95vw, (max-width: 640px) 95vw, (max-width: 960px) 95vw, (max-width: 1200px) 40vw, (max-width: 1600px) 40vw, 888px\"\n                        alt=\"Restaurant French Michelin Starred Galvin Private Dining Events\"\n                        loading=\"lazy\"\n                        whileHover={prefersReducedMotion ? {} : { scale: isMobile ? 1.02 : 1.05 }}\n                        transition={{ duration: 0.4 }}\n                        style={{ \n                          willChange: 'transform',\n                          opacity: imagesLoaded['chef-small'] ? 1 : 0,\n                          transition: 'opacity 0.3s ease',\n                          transform: 'translateZ(0)'\n                        }}\n                      />\n                    )}\n                  </div>\n                </div>\n              </motion.div>\n              \n              {/* Content column */}\n              <motion.div \n                className=\"uk-width-10-20@m uk-flex-column uk-flex-last@m\"\n                variants={finalFadeInUpVariants}\n                initial=\"hidden\"\n                whileInView=\"visible\"\n                viewport={{ once: true, amount: 0.2 }}\n              >\n                {/* Text content */}\n                <div className=\"block-bg-white\">\n                  <motion.div \n                    className=\"be-block-textbox\"\n                    variants={textContainerVariants}\n                    initial=\"hidden\"\n                    whileInView=\"visible\"\n                    viewport={{ once: true, amount: 0.2 }}\n                  >\n                    <motion.div \n                      className=\"be-block-heading uk-h1\" \n                      variants={finalTextItemVariants}\n                    >\n                      Our Story\n                    </motion.div>\n                    \n                    <motion.hr \n                      className=\"be-title-divider uk-margin-remove-top\" \n                      variants={dividerVariants}\n                    />\n                    \n                    <motion.h2 \n                      className=\"uk-h3 be-block-subheading uk-visible@m\" \n                      variants={finalTextItemVariants}\n                    >\n                      Galvin La Chapelle, a unique venue in the heart of the city of London, where old meets new.\n                    </motion.h2>\n                    \n                    {!isMobile && (\n                      <motion.h2 \n                        className=\"uk-h4 be-block-subheading uk-hidden@m\" \n                        style={{ visibility: \"hidden\" }}\n                        variants={finalTextItemVariants}\n                      >\n                        Galvin La Chapelle, a unique venue in the heart of the city of London, where old meets new.\n                      </motion.h2>\n                    )}\n                    \n                    <motion.div \n                      className=\"be-block-text uk-clearfix\"\n                      variants={textContainerVariants}\n                    >\n                      <motion.p variants={finalTextItemVariants}>\n                        Our Michelin Star venue offers modern French fine dining with a European influence. Our unique venue boasts beautiful high stone ceilings, with large arched windows, creating the perfect backdrop for all occasions.\n                      </motion.p>\n                      {!isMobile && (\n                        <motion.p variants={finalTextItemVariants}>\n                          Our grade 2 listed former school, takes pride of place amongst the modern buildings of Spitalfields and London City. Our glamourous venue has an effortless buzz that transports you to a world of fantastic food, fine wine and unmatched service.\n                        </motion.p>\n                      )}\n                      <motion.p variants={finalTextItemVariants}>\n                        Our kitchen ensures a seasonal and sustainable menu continues to be on offered to our guests using fresh and local produce. Our Executive Chef, Arturo Granato works closely with Head Chef, Gabriele Caucci to boast a menu with an emphasis on bold flavours, a balance of textures and a continued focus on all Galvin Restaurant's core values.\n                      </motion.p>\n                    </motion.div>\n                    \n                    <motion.div \n                      className=\"be-block-buttonbox uk-flex-inline uk-flex-center uk-flex-wrap be-flex-gap uk-margin-top uk-animation-toggle\"\n                      variants={finalTextItemVariants}\n                    >\n                      <AnimatedElement\n                        as=\"a\"\n                        title=\"Read more about the history of Galvin Restaurants in London and Essex by Award winning Michelin starred brothers Chris & Jeff British French Cuisine at its best.\"\n                        className=\"uk-button be-block-button uk-button-large\"\n                        href=\"https://galvinrestaurants.com/restaurants-london-michelin-starred-french-british-best-top-awards/\"\n                        target=\"_self\"\n                        data-count=\"1\"\n                        data-rows=\"2\"\n                        hoverEffect=\"scale\"\n                      >\n                        Discover More\n                      </AnimatedElement>\n                      <AnimatedElement\n                        as=\"a\"\n                        title=\"Subscribe to French restaurants London, Galvin.\"\n                        className=\"uk-button be-block-button uk-button-large\"\n                        href=\"https://galvinrestaurants.com/michelin-french-restaurant-city-london-galvin-la-chapelle/#restaurant\"\n                        target=\"_self\"\n                        data-count=\"2\"\n                        data-rows=\"2\"\n                        hoverEffect=\"scale\"\n                      >\n                        Subscribe\n                      </AnimatedElement>\n                    </motion.div>\n                  </motion.div>\n                </div>\n                \n                {/* Bottom chef image - only load on desktop or if visible in viewport */}\n                {(isInView || !isMobile) && (\n                  <motion.div \n                    className=\"uk-width-full uk-text-center\"\n                    variants={finalImageVariants}\n                    initial=\"hidden\"\n                    whileInView=\"visible\"\n                    viewport={{ once: true, amount: 0.2 }}\n                    style={{\n                      backgroundColor: \"#f5f5f5\", // Placeholder color while loading\n                    }}\n                  >\n                    <div className=\"be-block-img-under uk-position-relative uk-text-center be-transition-duration-15 uk-transform-origin-top-center\">\n                      <div className=\"uk-overflow-hidden uk-background-cover uk-transition-toggle\" tabIndex=\"0\">\n                        {(imagesLoaded['chef-bottom-small'] || imagesLoaded['chef-bottom-full']) && (\n                          <motion.img \n                            width=\"960\" \n                            height=\"640\" \n                            className=\"uk-transition-opaque be-transition-ease be-transition-duration-2\" \n                            src={getImageSrc('chefBottom')}\n                            srcSet={imagesLoaded['chef-bottom-full'] ? \n                              \"https://ik.imagekit.io/sbj8bzmjnl4/galvin/wp-content/uploads/2025/02/restaurant-michelin-star-french-city-london-galvin-la-chapelle-chef-gabriele2-430x287.jpg.webp 430w, https://ik.imagekit.io/sbj8bzmjnl4/galvin/wp-content/uploads/2025/02/restaurant-michelin-star-french-city-london-galvin-la-chapelle-chef-gabriele2-640x427.jpg.webp 640w, https://ik.imagekit.io/sbj8bzmjnl4/galvin/wp-content/uploads/2025/02/restaurant-michelin-star-french-city-london-galvin-la-chapelle-chef-gabriele2-760x507.jpg.webp 760w, https://ik.imagekit.io/sbj8bzmjnl4/galvin/wp-content/uploads/2025/02/restaurant-michelin-star-french-city-london-galvin-la-chapelle-chef-gabriele2-960x640.jpg.webp 960w\" :\n                              \"https://ik.imagekit.io/sbj8bzmjnl4/galvin/wp-content/uploads/2025/02/restaurant-michelin-star-french-city-london-galvin-la-chapelle-chef-gabriele2-430x287.jpg.webp 430w\"\n                            }\n                            sizes=\"(max-width: 360px) 95vw, (max-width: 640px) 95vw, (max-width: 960px) 95vw, (max-width: 1200px) 40vw, (max-width: 1600px) 40vw, 960px\"\n                            alt=\"Restaurant Michelin starred French city of London Chefs\"\n                            loading=\"lazy\"\n                            whileHover={prefersReducedMotion ? {} : { scale: isMobile ? 1.02 : 1.03 }}\n                            transition={{ duration: 0.4 }}\n                            style={{ \n                              willChange: 'transform',\n                              opacity: imagesLoaded['chef-bottom-small'] ? 1 : 0,\n                              transition: 'opacity 0.3s ease',\n                              transform: 'translateZ(0)'\n                            }}\n                          />\n                        )}\n                      </div>\n                    </div>\n                  </motion.div>\n                )}\n              </motion.div>\n            </div>\n          </div>\n        </div>\n      </motion.div>\n    </AnimatedSection>\n  );\n};\n\nexport default OurStory; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}